@model IEnumerable<Hypnofrog.ViewModels.CommentViewModel>
@using Microsoft.AspNet.Identity
@foreach (var elem in Model)
{
    <li>
        <div class="comment-main-level">
            <div class="comment-avatar">
                <a href="@Url.Action("UserProfile",  new { userid = elem.UserId })">
                    <img src="@elem.UserAvatar" />
                </a>
            </div>
            <div class="comment-box">
                <div class="comment-head">
                    <span><a href="@Url.Action("UserProfile",  new { userid = elem.UserId })">@elem.UserId</a></span>
                    <i class="fa fa-clock-o"> @elem.CreationTime</i>
                    @if (elem.UserId == User.Identity.GetUserName() || User.IsInRole("Admin"))
                    {
                        <a data-ajax="true" data-ajax-mode="replace" data-ajax-update="#comments-list" href="/Home/DeleteComment?comid=@elem.CommentId">
                            <i class="fa fa-trash-o"></i>
                        </a>
                    }
                </div>
                <div class="comment-content fr-view">
                    @Html.Raw(elem.Text)
                </div>
            </div>
        </div>
    </li>
}